{
  "info": {
    "name": "CartoonToo - Chatbot AI Testing",
    "description": "Complete test collection for AI Chatbot API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "token",
      "value": "YOUR_JWT_TOKEN_HERE",
      "type": "string"
    },
    {
      "key": "conversationId",
      "value": "conv-test-001",
      "type": "string"
    },
    {
      "key": "movieId",
      "value": "movie123",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. Hỏi Thông Tin Phim",
      "item": [
        {
          "name": "1.1. Hỏi phim đang xem - Nội dung",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"phim này nói về gì?\",\n  \"currentMovieId\": \"{{movieId}}\",\n  \"conversationId\": \"{{conversationId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "1.2. Hỏi số tập",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"phim này có bao nhiêu tập?\",\n  \"currentMovieId\": \"{{movieId}}\",\n  \"conversationId\": \"{{conversationId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "1.3. Hỏi đánh giá",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"phim này có hay không?\",\n  \"currentMovieId\": \"{{movieId}}\",\n  \"conversationId\": \"{{conversationId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "1.4. Hỏi phim cụ thể (không có context)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"One Piece nói về gì?\",\n  \"conversationId\": \"{{conversationId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "2. Đề Xuất Phim",
      "item": [
        {
          "name": "2.1. Đề xuất phim chung",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"gợi ý phim hay cho mình\",\n  \"conversationId\": \"conv-rec-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "2.2. Đề xuất phim tương tự",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"có phim nào giống One Piece không?\",\n  \"currentMovieId\": \"{{movieId}}\",\n  \"conversationId\": \"conv-rec-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "2.3. Đề xuất theo mood",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"cho mình phim vui vui\",\n  \"conversationId\": \"conv-rec-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "2.4. Đề xuất phim hành động",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"nen xem phim hành động\",\n  \"conversationId\": \"conv-rec-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "3. Lọc Phim (Fast-path)",
      "item": [
        {
          "name": "3.1. Lọc anime/hoạt hình",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"cho mình xem anime\",\n  \"conversationId\": \"conv-filter-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "3.2. Lọc phim hành động",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"phim hành động\",\n  \"conversationId\": \"conv-filter-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "3.3. Lọc nhiều thể loại",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"phim hành động tình cảm\",\n  \"conversationId\": \"conv-filter-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "4. Hỏi Khuyến Mãi",
      "item": [
        {
          "name": "4.1. Hỏi khuyến mãi",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"có khuyến mãi gì không?\",\n  \"conversationId\": \"conv-promo-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "4.2. Hỏi voucher",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"có voucher không?\",\n  \"conversationId\": \"conv-promo-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "4.3. Hỏi mã giảm giá",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"có mã giảm giá không?\",\n  \"conversationId\": \"conv-promo-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "5. Off-topic Detection",
      "item": [
        {
          "name": "5.1. Hỏi thời tiết",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"hôm nay thời tiết thế nào?\",\n  \"conversationId\": \"conv-offtopic-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "5.2. Hỏi toán học",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"2+2 bằng mấy?\",\n  \"conversationId\": \"conv-offtopic-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "5.3. Hỏi chính trị",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"tổng thống Mỹ là ai?\",\n  \"conversationId\": \"conv-offtopic-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "6. Context & Memory",
      "item": [
        {
          "name": "6.1. First message - Gợi ý phim",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"gợi ý phim hành động\",\n  \"conversationId\": \"conv-memory-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "6.2. Follow-up - Hỏi về phim đầu tiên",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"phim đầu tiên có bao nhiêu tập?\",\n  \"conversationId\": \"conv-memory-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "6.3. Follow-up - Hỏi về phim thứ hai",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"còn phim thứ hai thì sao?\",\n  \"conversationId\": \"conv-memory-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "7. Edge Cases",
      "item": [
        {
          "name": "7.1. Empty message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"\",\n  \"conversationId\": \"conv-edge-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "7.2. Very long message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"tôi muốn xem phim hành động có nội dung về võ thuật và phép thuật với nhân vật chính là nam giới trẻ tuổi có sức mạnh đặc biệt được thừa hưởng từ gia đình và phải chiến đấu với các thế lực tà ác để bảo vệ thế giới trong một thế giới giả tưởng với nhiều chủng tộc khác nhau\",\n  \"conversationId\": \"conv-edge-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        },
        {
          "name": "7.3. Message with typos",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"cho minh xem phim hannh dong\",\n  \"conversationId\": \"conv-edge-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ai/chat",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ai", "chat"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}

